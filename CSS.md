# CSS
## Общее
- После значения свойства всегда ставим точку с запятой.
- Для цвета не используем зарезервированные слова, заменяем их шестнадцатеричным
  представлением (например, `color: blue;` -> `color: #00f;`). Допустимо
  сокращать шестнадцатеричное написание до 3х букв.
- Названия тегов, их свойств и значений пишем строчными буквами.
- Сокращаем начальный ноль для дробных чисел `0.5` -> `.5`.
- Используем только двойные кавычки. В необязательных случаях также
  их прописываем (например, `[type=text]` -> `[type="text"]`).
- После двоеточия в правилах ставим один пробел (`top: 10px;`).
- После запятых внутри значений `rgb()`, `rgba()`, `hsl()`, `hsla()`
  или `rect()` ставим пробелы.
- До и после комбинатора между селекторами (например, `p > a`) ставим пробел.
- Каждое объявение в правиле пишем с новой строчки.
- Единицы измерения не ставятся, если в них нет необходимости.
  - Ноль всегда ноль в любых единицах измерения `border: 0`.
  - По умолчанию у `line-height` величины в `em` их ставить не надо.

```css
/* Недопустимо */
.selector, .selector-secondary, .selector[type=text]{
  padding:15px;
  margin:0px 0px 15px;
  background-color:rgba(0,0,0,0.5);
  line-height:1.5em;
  box-shadow:0px 1px 2px #CCC,inset 0 1px 0 white}

/* Правильно */
.selector,
.selector-secondary,
.selector[type="text"] {
  padding: 15px;
  margin-bottom: 15px;
  background-color: rgba(0, 0, 0, .5);
  line-height: 1.5;
  box-shadow: 0 1px 2px #ccc, inset 0 1px 0 #fff;
}
```

## Типографика
- Проверяйте стили компонента на корректное отображение при различных данных.
  - Слишком большой текст.
  - Текста нет совсем.
  - Текст с пробелами и короткими / длинными словами.
- Обязательно добавляйте свойство `text-overflow: ellipsis` для однострочных
  блочных элементов фиксированной длины с текстом. Тогда браузер автоматически
  добавит троеточие, если текст не будет визуально влезать в элемент.

## Интерактивные элементы
- При создании интерактивных элементов (элементов, с которыми пользователь может
  как-то взаимодействовать — что-то происходит по нажатию на этот элемент или
  наведению на него), нужно учитывать следующие состояния:
  - hover — cостояние при наведении мышью на элемент;
  - focus — cостояние при «наведении» на элемент с клавиатуры (табом). Фокус
    должен быть явно виден на странице, т.е. должно быть однозначно видно и
    понятно, какой элемент сейчас под фокусом. Наилучшим вариантом является
    стандартный `outline`. Не рекомендуется заменять его на смену цвета текста \
    фона, так как такое изменение малозаметно. Допускается смена цвета `outline`
    на тот, который более вписывается в дизайн сайта;
  - disabled — обязательное состояние, если семантически такое состояние есть.
- Учитывайте область клика небольших элементов. Стоит добавлять таким
  элементам дополнительный `padding`, чтобы область элемента стала больше
  и в него было проще попасть.
- Курсор мыши при наведении должен быть рука: `cursor: pointer;`.
- Убрать случайное выделение текста (`user-select: none;`) для элементов
  выпадающего меню и других элементов, на которые можно кликнуть несколько
  раз подряд.

## Анимации
- Не анимируйте свойства, который вызывают reflow (layout) элемента.
  То есть те свойства, которые влияют на размеры элемента или на положение
  соседних элементов. К таким свойствам можно отнести `width` и `margin`.
  Анимация таких свойств будет медленной и будет работать медленно на слабых
  устройствах, лучше обойтись без анимации или изменить принцип анимации,
  чтобы можно было обойтись без reflow.
- Не анимируйте свойства, которые вызывают repaint у больших блоков.
  Такая анимация хоть и гораздо быстрее, чем анимация свойств с reflow,
  но всё равно может быть достаточно медленной.
- Лучшие свойства для анимации — свойства, которые вызывают только compositing.
  Такая анимация будет наиболее производительной. Основная проблема,
  что такие свойства — только `opacity` и `transform`.
  Но через них можно сэмулировать анимацию большинства остальных свойств.
  Например:

  ```css
  /* Допустимо для небольших блоков */
  div {
    background-color: red;
    transition: background-color .3s ease;
  }

  div:hover {
    background-color: blue;
  }

  /* Более производительный вариант анимации, но при этом более замороченный */
  /* Разный фон в 2 разных элементах, при изменении меняем видимый элемент */
  div::after,
  div::before {
    content: '';
    width: 100%;
    height: 100%;
    opacity: 0;
    transition: opacity .3s ease;
  }

  div::after {
    background-color: red;
    opacity: 1;
  }

  div:hover::after {
    background-color: blue;
    opacity: 1
  }
  ```

Подробнее:
- [Аппаратное ускорение в жизни верстальщика](https://habrahabr.ru/company/yandex/blog/239169/)
- [Анимации на GPU](https://habrahabr.ru/company/odnoklassniki/blog/313978/)
- [CSS Triggers](https://csstriggers.com/)

## Доступность
- Различают несколько видов скрытия элемента:
  - Полное скрытие — элемент не виден на экране, не доступен при навигации с
    клавиатуры и не доступен скринридерам. Применяется, когда необходимо скрыть
    элемент для всех. Это скрытие через `display: none`, `visibility: hidden;`
    или атрибут `hidden`.
  - Визуальное — элемент не виден на экране, но доступен для управления с
    клавиатуры и для экранных читалок. Применяется, когда необходимо сделать
    элемент невидимым, но при этом взаимодействие с этим элементом оставить.
    Например, скрытие нативных радиокнопок \ чекбоксов — если скрыть их через
    `display: none`, то они не будут доступны читалкам \ скринридерам.
    Это скрытие через технику [visuallyhidden].
  - Семантическое скрытие — элемент виден на экране, но не доступен для
    скринридеров. Применяется для скрытия презентационных элементов.
    Например, если кнопка содержит в себе иконку, то скринридер не должен
    зачитывать эту иконку (но при этом в кнопке должен быть атрибут `title`,
    который содержит текстовое описание действия).
    Это скрытие через атрибут `aria-hidden="true"`.

  ```css
  /* Недопустимо */
  input[type=radio] {
    display: none
  }

  /* Правильно */
  input[type=radio] {
    @extend .visuallyhidden;
  }
  ```

[visuallyhidden]: https://github.com/h5bp/html5-boilerplate/blob/v5.0.0/src/css/main.css#L126-L140
